#!/usr/bin/env python
# coding: utf-8

# In[1]:


get_ipython().run_cell_magic('writefile', 'Patients.py', 'import streamlit as st\nimport numpy as np\nimport pandas as pd\nimport time\n\nfrom PIL import Image\n\npress=st.sidebar.header("You may choose any selection below for further information")\npress=st.sidebar.selectbox(\'Page Number\',[\'Page 1\',\'Page 2\',\'Page 3\',\'Page 4\',\'Page 5\',\'Page 6\',\'Done\'])\n\nif press==\'Page 1\':\n    st.title("MEDICAL APPOINTMENT NO SHOWS")\n    st.subheader("Data Source: JoniHoppen from Kaggle")\n    st.info("Hello! I\'m Najihah.")\n    st.info("I utilized this dataset for my assignment to analyze whether or not a patient is going to attended for the medical appointment.")\n\nelif press==\'Page 2\':\n    image = Image.open(\'C:/Users/user10/Desktop/appointment.png\')\n    st.image(image, caption=None, width=None, use_column_width=None, clamp=False, channels="RGB", output_format="auto")\n    st.title("PATIENTS\' RECORD")\n    \n    latest_iteration = st.empty()\n    bar = st.progress(0)\n\n    for i in range(100):\n   \n        latest_iteration.text(f\'Processing... {i+1}\')\n        bar.progress(i + 1)\n        time.sleep(0.05)\n        \n    record=pd.read_csv("C:/Users/user10/Desktop/Patient Appointment.csv")\n    remove=["PatientId","ScheduledDay","AppointmentDay"]\n    record.drop(remove, inplace=True, axis=1)\n    record.rename(columns={\'Hipertension\':\'Hypertension\', \'Handcap\':\'Handicapped\',\'SMS_received\':\'Notification(SMS)\',\'No-show\':\'Attended\'},inplace=True)\n    record.drop(record[record[\'Age\'] < 18].index, inplace = True)\n    change = {\'No\':0, \'Yes\': 1}\n    record = record.replace({\'Attended\': change})\n    record.head()\n    st.write(record)\n    \nelif press==\'Page 3\':\n    st.title("NUMBER OF PATIENTS RECORDED")\n    \n    col1,col2=st.columns(2)\n    col1.metric("Male","25206")\n    col2.metric("Female","57941")\n\n    col3,col4=st.columns(2)\n    col3.metric("Attended","4790")\n    col4.metric("Attended","11532")\n\n    col5,col6=st.columns(2)\n    col5.metric("Unattended","20416")\n    col6.metric("Unattended","46409")\n    \n    image = Image.open(\'C:/Users/user10/Desktop/graph1.png\')\n    st.image(image, caption=None, width=700, use_column_width=None, clamp=False, channels="white", output_format="auto")\n    \nelif press==\'Page 4\':\n    st.title(\'CORRELATION INFO\')\n    \n    col1,col2,col3=st.columns(3)\n    col1.metric("Age Factor","-0.06")\n    col2.metric("Scholarship","0.02")\n    col3.metric("Hypertension","0.03")\n    \n    col4,col5,col6=st.columns(3)\n    col4.metric("Diabetes","-0.02")\n    col5.metric("Alcoholism","-0.00")\n    col6.metric("Handicapped","-0.00")\n                \n    col7,col8=st.columns(2)\n    col7.metric("Notification","0.13")   \n    \nelif press==\'Page 5\':\n    st.header(\'Scholarship vs Attendance\')\n    image = Image.open(\'C:/Users/user10/Desktop/graph2.png\')\n    st.image(image, caption=None, width=500, use_column_width=None, clamp=False, channels="white", output_format="auto")\n    st.subheader(\'Scholarship\')\n    a,b=st.columns(2)\n    a.metric("Attended","1836")\n    b.metric("Unattended","5963")\n    st.subheader(\'Non-Scholarship\')\n    c,d=st.columns(2)\n    c.metric("Attended","14486")\n    d.metric("Unattended","60862")\n    \n    st.header(\'Notification vs Attendance\')\n    image = Image.open(\'C:/Users/user10/Desktop/graph5.png\')\n    st.image(image, caption=None, width=500, use_column_width=None, clamp=False, channels="white", output_format="auto")\n    st.subheader(\'Received\')\n    e,f=st.columns(2)\n    e.metric("Attended","7359")\n    f.metric("Unattended","20102")\n    st.subheader(\'Not Received\')\n    g,h=st.columns(2)\n    g.metric("Attended","8963")\n    h.metric("Unattended","46723")\n    \nelif press==\'Page 6\':\n    st.title(\'SUMMARY\')\n    st.write(\'The total of female patients are higher compared to male. However, the percentage of attending to the appointment are mutual for both genders which are 19%.\')\n    st.write(\'There are 75348 patients who did not received scholarship and 7799 receiver. 76% of the receiver not attended the appointment. 80% of patients who not received the scholar had not attended to the appointment.\')\n    st.write(\'73% of patients who received the notification has not attended to the appointment. Meanwhile, 84% did not attended from the group who did not received any notification.\')\n    st.write("There are no correlation of patients\' attendance with any factor including the age, health condition, scholarship, and notification." )\n    st.write("By using logistic regression, this data provided 80% accuracy score for the attendance results.")\n    \n    st.title(\'SUGGESTION\')\n    st.write(\'To increase the amount of patients to attend to the appointment, maybe the hospital could offer better packages for the scholarship receivers. Plus, do some review for the background check for the patients who did not received scholarship. Hence, they could be offered one in the future. Other than that, the notification should be sent to all patients so that it can increased the total numbers of patients attended.\')\nelse:\n    st.title("THANK YOU FOR VISITING!")\n    st.subheader("Your recommendation is highly appreciated.")')


# In[ ]:




